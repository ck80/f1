<%= form_with(model: tip, local: true) do |form| %>
  <% if tip.errors.any? %>
    <div id="error_explanation">
      <h2><%= pluralize(tip.errors.count, "error") %> prohibited this tip from being saved:</h2>
      <ul>
      <% tip.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>
  <p>debug: updating tips for: <%= @user.name %> (<%= @user.email %>) User ID <%= @user.id %></p>
  
  <div class="field">
    <%= form.label :user %>
    <%= form.select :user_id, options_for_select([[@user.name, @user.id]], @user.id) %>
  </div>
  
  <div class="field">
    <%= form.label :race %>
    <%= form.select :race_id, options_for_select(@races.map{ |r| [r.country, r.id] }) %>
  </div>
  
  <div class="field">
    <%= form.label :qual_first %>
    <%= form.select :qual_first, options_for_select(@drivers.map{ |d| [d.abbr_name, d.abbr_name] }.sort), include_blank: 'Qualify 1st'  %>
  </div>

  <div class="field">
    <%= form.label :qual_second %>
	<%= form.select :qual_second, options_for_select(@drivers.map{ |d| [d.abbr_name, d.abbr_name] }.sort), include_blank: 'Qualify 2nd' %>
  </div>

  <div class="field">
    <%= form.label :qual_third %>
    <%= form.select :qual_third, options_for_select(@drivers.map{ |d| [d.abbr_name, d.abbr_name] }.sort), include_blank: 'Qualify 3rd' %>
  </div>

  <div class="field">
    <%= form.label :race_first %>
	<%= form.select :race_first, options_for_select(@drivers.map{ |d| [d.abbr_name, d.abbr_name] }.sort), include_blank: 'Race 1st' %>
  </div>

  <div class="field">
    <%= form.label :race_second %>
	<%= form.select :race_second, options_for_select(@drivers.map{ |d| [d.abbr_name, d.abbr_name] }.sort), include_blank: 'Race 2nd' %>
  </div>

  <div class="field">
    <%= form.label :race_third %>
    <%= form.select :race_third, options_for_select(@drivers.map{ |d| [d.abbr_name, d.abbr_name] }.sort), include_blank: 'Race 3rd' %>
  </div>

  <div class="field">
    <%= form.label :race_tenth %>
    <%= form.select :race_tenth, options_for_select(@drivers.map{ |d| [d.abbr_name, d.abbr_name] }.sort), include_blank: 'Race 10th' %>
  </div>

  <div class="actions">
    <%= form.submit %>
  </div>
<% end %>
